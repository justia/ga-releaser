"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
const conventional_changelog_1 = __importDefault(require("@release-it/conventional-changelog"));
const log_1 = __importDefault(require("../log"));
class ConventionalChangelog extends conventional_changelog_1.default {
    /**
     * Proxy method to validate if the changelog is empty.
     */
    generateChangelog(options) {
        return super.generateChangelog(options).then((value) => {
            if (value.match(/^## \[[0-9.]+\]\(.*?\)\s\([0-9-]+\)$/gs)) {
                log_1.default.warning('No changes to be listed in the changelog');
                process.exit();
            }
            return value;
        });
    }
}
module.exports = ConventionalChangelog;
